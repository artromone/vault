#prog #prog/db 

| Аномалия                   | Уровни изоляции, где возможна                        | Как предотвратить           |
| -------------------------- | ---------------------------------------------------- | --------------------------- |
| **Грязное чтение**         | Read Uncommitted                                     | Read Committed и выше       |
| **Неповторяющееся чтение** | Read Uncommitted, Read Committed                     | Repeatable Read и выше      |
| **Фантомное чтение**       | Read Uncommitted, Read Committed, Repeatable Read`*` | Serializable                |
| **Потерянное обновление**  | Все, кроме Serializable (зависит от СУБД)            | Блокировки или Serializable |
| **Аномалия сериализации**  | Все, кроме Serializable                              | Только Serializable         |
`*`В PostgreSQL фантомы предотвращаются на уровне Repeatable Read.

1) [[Грязное чтение (Dirty Read)]] – транзакция читает данные, изменённые другой незавершённой транзакцией, которая может быть откачена
2) [[Неповторяющееся чтение (Non-Repeatable Read)]] – в рамках одной транзакции повторное чтение тех же данных возвращает разные значения из-за изменений, совершенных другими транзакциями
3) [[Фантомное чтение (Phantom Read)]] – транзакция повторно выполняет запрос и обнаруживает новые строки («фантомы»), добавленные другими транзакциями после её начала
4) [[Потерянное обновление (Lost Update)]] – две транзакции одновременно изменяют одни и те же данные, и одно из обновлений теряется
5) [[Аномалия сериализации (Serialization Anomaly)]] – результат параллельного выполнения транзакций невозможно получить ни при каком последовательном (serial) порядке их выполнения
