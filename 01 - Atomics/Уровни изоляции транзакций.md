#prog #prog/db 

> Определяют степень защиты от конфликтов при параллельном выполнении операций в БД
> Регулируют видимость изменений между транзакциями и предотвращают аномалии

1) [[Read Uncommitted (Чтение незафиксированных данных)]] – транзакции видят незавершённые изменения других транзакций, включая данные, которые могут быть откачены
2) [[Read Committed (Чтение зафиксированных данных)]] – транзакции видят только зафиксированные изменения, cтандартный уровень во многих СУБД (например, PostgreSQL)
3) [[Repeatable Read (Повторяемое чтение)]] – гарантирует, что данные, прочитанные в транзакции, не изменятся до её завершения, реализуется через блокировки строк или снимки данных (MVCC)
4) [[Serializable (Сериализуемость)]] –  транзакции выполняются так, будто они происходят последовательно, что полностью предотвращает грязное чтение, неповторяющееся чтение и фантомы

##### [[Аномалии]] и их предотвращение
|Уровень|Грязное чтение|Неповторяющееся чтение|Фантомы|Потерянное обновление|Аномалия сериализации|
|---|---|---|---|---|---|
|**Read Uncommitted**|❌ Возможно|❌ Возможно|❌ Возможно|❌ Возможно|❌ Возможно|
|**Read Committed**|✅ Запрещено|❌ Возможно|❌ Возможно|❌ Возможно|❌ Возможно|
|**Repeatable Read**|✅ Запрещено|✅ Запрещено|❌ Возможно`*`|✅ Запрещено|❌ Возможно|
|**Serializable**|✅ Запрещено|✅ Запрещено|✅ Запрещено|✅ Запрещено|✅ Запрещено|
`*`В PostgreSQL фантомы предотвращаются на уровне **Repeatable Read** благодаря MVCC.

##### Выбор уровня изоляции
- **Производительность vs. Точность**: Чем строже уровень, тем выше накладные расходы
- **Сценарии**:
    - **Read Committed**: Оптимален для большинства задач
    - **Serializable**: Для систем с жёсткими требованиями к целостности
    - **Read Uncommitted**: Только для аналитики с допущением неточностей
