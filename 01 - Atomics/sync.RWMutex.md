#prog #prog/golang #prog/concurrency #/todo

>  Несколько читателей, один писатель

*Использовать RWMutex выгодно только тогда, когда большинству go-подпрограмм требуется блокировка читателей, и за блокировку ведется состязание, т.е. go-подпрограммам приходится регулярно ожидать для ее захвата. RWMutex требует бо­лее сложной внутренней бухгалтерии, что делает его медленнее обычных мьютексов*

С его помощью можно лочиться только на запись


Несколько горутин одновременно читают данные, эксклюзивный доступ для одной горутины на запись

Полезно, когда чтения происходят чаще, чем операции записи

- Одновременная блокрировка читателей, если нет писателя
- Если блокировка на запись, то все читатели ждут

- `RLock()`: Запрашивает блокировку на чтение. Если блокировка на запись уже удерживается, вызов `RLock()` будет заблокирован до освобождения блокировки на запись.
- `RUnlock()`: Освобождает блокировку на чтение.
- `Lock()`: Запрашивает блокировку на запись. Блокирует выполнение, если есть активные читатели или писатели.
- `Unlock()`: Освобождает блокировку на запись