#delegate

## Что нужно знать в первую очередь

Система оплаты построена так, чтобы быть справедливой и мотивирующей. Ваш заработок складывается из двух главных частей:
- Оплата за потраченное время (это основная часть - 70%)
- Доплата за сложность задачи (дополнительные 30%)

## Как это работает

### Базовая часть оплаты
Большая часть вашего заработка (70%) зависит от времени, которое вы потратили, умноженного на вашу часовую ставку. Это гарантирует, что ваше время всегда будет оплачено справедливо.

Математически это выглядит так:
$\text{Временная часть} = \text{Потраченные часы} \times \text{Ваша часовая ставка}$

### Доплата за сложность
К базовой части добавляется 30% от рыночной стоимости задачи (с учетом вашей квалификации). Это позволяет получать больше за сложные задачи, даже если вы сделали их быстро.

$\text{Доплата за сложность} = \text{Рыночная стоимость} \times \frac{\text{Ваша часовая ставка}}{1000}$

### Бонусы за эффективность
Если вы выполните задачу быстрее ожидаемого времени, вы получите бонус:
- Максимальный бонус: +50% от базовой оплаты
- Максимальное снижение: -30% (но не ниже гарантированного минимума)

Расчет бонуса:
$\text{Коэффициент эффективности} = \frac{\text{Ожидаемое время}}{\text{Фактическое время}}$

### Итоговая формула
$\text{Итоговая оплата} = (\text{Временная часть} \times 0.7 + \text{Доплата за сложность} \times 0.3) \times (1 + \text{Бонус за эффективность})$

## Ваши преимущества

### 1. Гарантированный минимум
Вы всегда получите как минимум 80% от базовой почасовой оплаты, даже если задача оказалась сложнее, чем предполагалось. Это ваша страховка от непредвиденных сложностей.

### 2. Возможность заработать больше
- Выполняя задачи быстрее ожидаемого времени (бонус до 50%)
- Беря более сложные задачи с высокой рыночной стоимостью
- Повышая свою часовую ставку через профессиональный рост

### 3. Справедливая оценка
- Ваше время всегда ценится (70% оплаты зависит от времени)
- Сложные задачи оплачиваются лучше (30% от рыночной стоимости)
- Эффективная работа вознаграждается (бонусы за скорость)

### 4. Защита от рисков
- Есть гарантированный минимум оплаты
- Штрафы за превышение времени ограничены
- Учитывается реальная сложность задач

## Практический пример

Допустим, вы взяли задачу:
- Рыночная стоимость: 1000₽
- Ожидаемое время: 1 час
- Ваша часовая ставка: 250₽

**Сценарий 1**: Вы сделали задачу за 1 час точно
- Временная часть: 250₽
- Доплата за сложность: ~75₽
- Итого: около 325₽

**Сценарий 2**: Вы сделали задачу за 40 минут
- Временная часть: ~167₽
- Доплата за сложность: ~75₽
- Бонус за скорость: ~40%
- Итого: около 390₽

## Важно помнить

1. Качество важнее скорости. Система поощряет эффективность, но не в ущерб качеству.
2. Гарантированный минимум защищает вас при любых обстоятельствах.
3. Чем выше ваша квалификация и часовая ставка, тем больше вы можете заработать.
4. Система справедлива: больше делаете — больше получаете.

## Как считаем:

```python
def calculate_payment(task_market_value: float, your_time_estimate: float, actual_time_hours: float, base_worker_rate: float, time_weight: float = 0.7, value_weight: float = 0.3, efficiency_multiplier: float = 1.2) -> dict:
    time_based_payment = actual_time_hours * base_worker_rate
    value_based_payment = task_market_value * (base_worker_rate / 1000)
    if your_time_estimate > 0:
        efficiency_ratio = your_time_estimate / actual_time_hours
        if efficiency_ratio > 1:
            efficiency_bonus = min(efficiency_ratio - 1, 0.5)
        else:
            efficiency_bonus = max(efficiency_ratio - 1, -0.3)
    else:
        efficiency_bonus = 0
    base_payment = (time_based_payment * time_weight + value_based_payment * value_weight)
    final_payment = base_payment * (1 + efficiency_bonus)
    minimum_payment = time_based_payment * 0.8
    final_payment = max(final_payment, minimum_payment)
    return {
        'time_based_payment': round(time_based_payment, 2),
        'value_based_payment': round(value_based_payment, 2),
        'efficiency_bonus_percent': round(efficiency_bonus * 100, 1),
        'final_payment': round(final_payment, 2),
        'effective_hourly_rate': round(final_payment / actual_time_hours, 2)
    }
}
```