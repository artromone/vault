#prog #prog/golang #prog/concurrency 

> Флаг `-race`

Компилятор создает модифицированную версию приложения с доп инструментом, который записывает все обращения к совместно используемым переменным, произошедшим во время выполнения, и информациею о go-подпрограмме, которая читает или записывает переменыеую.

Приложение также записывает все события синхронизации:
- инструкции go
- операции над каналами
- вызовы `(*sync.Mutex).Lock`
- `(*sync.WaitGroup).Wait`
Полный набор событий синхронизации – *The Go Memory Model*

> Детектор гонки изучает этот поток событий в поисках случаев, когда одна go-подпрограмма считывает или записывает совместно используемую переменную, ко­торая совсем недавно была записана другой go-подпрограммой, без промежуточных операций синхронизации
